{"version":3,"file":"static/js/796.d286df6e.chunk.js","mappings":"uQAwDA,UA7CmB,WACf,IAAMA,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,EAAAA,WACxBC,GAAYF,EAAAA,EAAAA,IAAYC,EAAAA,EAAAA,WACxBE,GAAcH,EAAAA,EAAAA,IAAYC,EAAAA,EAAAA,aAChC,GAA4BG,EAAAA,EAAAA,MAAnBC,GAAT,eACMC,GAAON,EAAAA,EAAAA,IAAYC,EAAAA,EAAAA,MACnBM,GAAWC,EAAAA,EAAAA,MA2BjB,OAxBAC,EAAAA,EAAAA,YAAU,WACN,OAAO,WACHF,GAASG,EAAAA,EAAAA,MACTH,GAASI,EAAAA,EAAAA,MACZ,CAEJ,GAAE,KAGHF,EAAAA,EAAAA,YAAU,WAENJ,EAAgB,CAAEO,KAAMT,IACxBI,GAASM,EAAAA,EAAAA,IAAY,CAAEP,KAAAA,EAAMH,YAAAA,IAEhC,GAAE,CAACA,KAEJM,EAAAA,EAAAA,YAAU,WACO,IAATH,IACJQ,OAAOC,SAAS,EAAG,GACnBR,GAASM,EAAAA,EAAAA,IAAY,CAAEP,KAAAA,EAAMH,YAAAA,KAEhC,GAAE,CAACG,KAIA,gCACKP,IAAa,SAAC,IAAD,KACd,SAAC,IAAD,UACKG,GACGA,EAAUc,KAAI,SAAAJ,GAAI,OAAI,SAAC,IAAD,CAAwBA,KAAMA,GAAfA,EAAKK,GAAxB,OAE1B,SAAC,IAAD,MAGX,C","sources":["pages/Search/SearchPage.jsx"],"sourcesContent":["import GameGallery from 'components/Custom/GameGallery/GameGallery';\nimport Loader from 'components/Loader/Loader';\nimport GameCard from 'components/Main/GameCard/GameCard';\nimport ManagerButton from 'components/Pagination/ManagerButton/ManagerButton';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSearchParams } from 'react-router-dom';\nimport { searchGames } from 'store/gamesReducer/gamesOperation';\nimport { clearSearchQuery, setFirstPage } from 'store/requestReducer/requestSlice';\nimport { select } from 'store/selectors/selectors';\n\nconst SearchPage = () => {\n    const isLoading = useSelector(select.isLoading);\n    const gamesList = useSelector(select.gamesList);\n    const searchQuery = useSelector(select.searchQuery);\n    const [, setSearchParams] = useSearchParams();\n    const page = useSelector(select.page);\n    const dispatch = useDispatch()\n\n\n    useEffect(() => {\n        return () => {\n            dispatch(clearSearchQuery())\n            dispatch(setFirstPage())\n        }\n        // eslint-disable-next-line\n    }, [])\n\n\n    useEffect(() => {\n\n        setSearchParams({ game: searchQuery })\n        dispatch(searchGames({ page, searchQuery }))\n        // eslint-disable-next-line\n    }, [searchQuery])\n\n    useEffect(() => {\n        if (page === 1) return\n        window.scrollTo(0, 0);\n        dispatch(searchGames({ page, searchQuery }))\n        // eslint-disable-next-line\n    }, [page])\n\n\n    return (\n        <>\n            {isLoading && <Loader />}\n            <GameGallery>\n                {gamesList &&\n                    gamesList.map(game => <GameCard key={game.id} game={game} />)}\n            </GameGallery>\n            <ManagerButton />\n        </>\n    )\n}\n\nexport default SearchPage"],"names":["isLoading","useSelector","select","gamesList","searchQuery","useSearchParams","setSearchParams","page","dispatch","useDispatch","useEffect","clearSearchQuery","setFirstPage","game","searchGames","window","scrollTo","map","id"],"sourceRoot":""}